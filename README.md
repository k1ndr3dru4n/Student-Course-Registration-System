# å­¦ç”Ÿé€‰è¯¾ç®¡ç†ç³»ç»Ÿ

åŸºäº .NET 8.0 Blazor Server æ„å»ºçš„ Web é€‰è¯¾ç®¡ç†ç³»ç»Ÿï¼Œç”¨äºé«˜æ ¡ç®¡ç†å­¦ç”Ÿé€‰è¯¾ã€è¯¾ç¨‹ç®¡ç†å’Œæˆç»©ç®¡ç†ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ“ **å¤šè§’è‰²ç³»ç»Ÿ** - æ”¯æŒå­¦ç”Ÿã€æ•™å¸ˆå’Œç®¡ç†å‘˜ï¼ŒåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶
- ğŸ“š **è¯¾ç¨‹ç®¡ç†** - åˆ›å»ºã€ç¼–è¾‘å’Œç®¡ç†è¯¾ç¨‹ï¼Œæ”¯æŒçŠ¶æ€è·Ÿè¸ªï¼ˆæœªå¼€è¯¾/æ­£åœ¨è¿›è¡Œ/å·²ç»“æŸï¼‰
- ğŸ“ **é€‰è¯¾ç³»ç»Ÿ** - å­¦ç”Ÿå¯æµè§ˆã€é€‰æ‹©å’Œé€‰è¯¾
- ğŸ“Š **æˆç»©ç®¡ç†** - æ•™å¸ˆå¯ç®¡ç†å­¦ç”Ÿæˆç»©ï¼Œå­¦ç”Ÿå¯æŸ¥çœ‹æˆç»©
- ğŸ‘¥ **ç”¨æˆ·ç®¡ç†** - ç®¡ç†å‘˜å¯ç®¡ç†å­¦ç”Ÿã€æ•™å¸ˆå’Œç”¨æˆ·è´¦æˆ·
- ğŸ” **é«˜çº§æœç´¢** - è·¨è¯¾ç¨‹ã€å­¦ç”Ÿå’Œæ•™å¸ˆçš„æœç´¢åŠŸèƒ½
- â­ **æ”¶è—åŠŸèƒ½** - å­¦ç”Ÿå’Œæ•™å¸ˆå¯æ”¶è—è¯¾ç¨‹
- ğŸ“¤ **æ•°æ®å¯¼å‡º** - å¯¼å‡ºå­¦ç”Ÿã€æ•™å¸ˆã€è¯¾ç¨‹å’Œé€‰è¯¾æ•°æ®ä¸º CSV
- ğŸ” **èº«ä»½è®¤è¯** - å®‰å…¨çš„ç™»å½•å’Œæ³¨å†Œç³»ç»Ÿ
- ğŸ“± **å“åº”å¼è®¾è®¡** - ä½¿ç”¨ Ant Design ç»„ä»¶æ„å»ºçš„ç°ä»£åŒ– UI
- ğŸš€ **RESTful API** - å®Œæ•´çš„ Web APIï¼Œé™„å¸¦ Swagger æ–‡æ¡£
- â° **æ—¶åŒºæ”¯æŒ** - è‡ªåŠ¨ä½¿ç”¨åŒ—äº¬æ—¶é—´ï¼ˆUTC+8ï¼‰

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: .NET 8.0
- **UI**: Blazor Server (äº¤äº’å¼æœåŠ¡å™¨ç»„ä»¶)
- **æ•°æ®åº“**: PostgreSQL (é€šè¿‡ Entity Framework Core æ”¯æŒ SQL Server)
- **ORM**: Entity Framework Core 8.0
- **UI ç»„ä»¶**: Ant Design 1.4.3
- **API æ–‡æ¡£**: Swagger/OpenAPI
- **æ•°æ®è¡¨æ ¼**: Microsoft QuickGrid 8.0

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- .NET 8.0 SDK æˆ–æ›´é«˜ç‰ˆæœ¬
- PostgreSQL æ•°æ®åº“ï¼ˆæˆ– SQL Serverï¼‰
- Visual Studio 2022 / Visual Studio Code / Rider

### å®‰è£…æ­¥éª¤

1. **å…‹éš†ä»“åº“**
   ```bash
   git clone <repository-url>
   cd Student-Course-Registration-System
   ```

2. **é…ç½®æ•°æ®åº“è¿æ¥**
   
   ç¼–è¾‘ `SMS/appsettings.json`:
   ```json
   {
     "ConnectionStrings": {
       "CimContext": "Server=your-server;Port=5432;Database=your-db;Username=your-user;Password=your-password;Search Path=your-schema;CommandTimeout=300"
     }
   }
   ```

3. **è¿è¡Œæ•°æ®åº“è¿ç§»**
   ```bash
   cd SMS
   dotnet ef database update
   ```
   
   æˆ–è€…æ•°æ®åº“ä¼šåœ¨é¦–æ¬¡è¿è¡Œæ—¶ä½¿ç”¨ `EnsureCreated()` è‡ªåŠ¨åˆ›å»ºã€‚

4. **è¿è¡Œåº”ç”¨**
   ```bash
   dotnet run
   ```

5. **è®¿é—®åº”ç”¨**
   - Web UI: `https://localhost:5001` æˆ– `http://localhost:5000`
   - Swagger API: `https://localhost:5001/swagger` (ä»…å¼€å‘ç¯å¢ƒ)

## ğŸ“– ä½¿ç”¨è¯´æ˜

### å­¦ç”ŸåŠŸèƒ½

- **æµè§ˆè¯¾ç¨‹** - æŸ¥çœ‹æ‰€æœ‰å¯ç”¨è¯¾ç¨‹åŠè¯¦ç»†ä¿¡æ¯
- **é€‰è¯¾** - é€‰æ‹©å¹¶é€‰è¯¾
- **æŸ¥çœ‹é€‰è¯¾** - æŸ¥çœ‹å·²é€‰è¯¾ç¨‹å’ŒçŠ¶æ€
- **æŸ¥çœ‹æˆç»©** - è®¿é—®è¯¾ç¨‹æˆç»©å’Œå­¦ä¸šè®°å½•
- **æ”¶è—** - æ”¶è—è¯¾ç¨‹ä»¥ä¾¿å¿«é€Ÿè®¿é—®
- **é€‰è¯¾å†å²** - æŸ¥çœ‹é€‰è¯¾å†å²è®°å½•

### æ•™å¸ˆåŠŸèƒ½

- **ç®¡ç†è¯¾ç¨‹** - åˆ›å»ºå’Œç®¡ç†åˆ†é…çš„è¯¾ç¨‹
- **æŸ¥çœ‹å­¦ç”Ÿ** - æŸ¥çœ‹è¯¾ç¨‹ä¸­çš„å­¦ç”Ÿ
- **æˆç»©ç®¡ç†** - å½•å…¥å’Œæ›´æ–°å­¦ç”Ÿæˆç»©
- **é€‰è¯¾ç®¡ç†** - æŸ¥çœ‹å’Œç®¡ç†è¯¾ç¨‹é€‰è¯¾æƒ…å†µ
- **æ”¶è—** - æ”¶è—è¯¾ç¨‹

### ç®¡ç†å‘˜åŠŸèƒ½

- **å­¦ç”Ÿç®¡ç†** - åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤å­¦ç”Ÿè´¦æˆ·
- **æ•™å¸ˆç®¡ç†** - åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤æ•™å¸ˆè´¦æˆ·
- **è¯¾ç¨‹ç®¡ç†** - è¯¾ç¨‹çš„å®Œæ•´ CRUD æ“ä½œ
- **é€‰è¯¾ç®¡ç†** - æŸ¥çœ‹å’Œç®¡ç†æ‰€æœ‰é€‰è¯¾è®°å½•
- **æ•°æ®å¯¼å‡º** - å¯¼å‡ºæ•°æ®ä¸º CSV æ ¼å¼
- **ç³»ç»Ÿä»ªè¡¨æ¿** - æŸ¥çœ‹ç³»ç»Ÿç»Ÿè®¡å’Œæ¦‚è§ˆ

## ğŸ”Œ API ç«¯ç‚¹

ç³»ç»Ÿæä¾›å®Œæ•´çš„ RESTful APIï¼ŒåŒ…å«ä»¥ä¸‹æ§åˆ¶å™¨ï¼š

- `/api/Students` - å­¦ç”Ÿç®¡ç†
- `/api/Teachers` - æ•™å¸ˆç®¡ç†
- `/api/Courses` - è¯¾ç¨‹ç®¡ç†
- `/api/Enrollments` - é€‰è¯¾ç®¡ç†
- `/api/Grades` - æˆç»©ç®¡ç†
- `/api/Export` - æ•°æ®å¯¼å‡ºï¼ˆCSVï¼‰
- `/api/Data` - æ•°æ®æŸ¥è¯¢å’Œç»Ÿè®¡

**API æ–‡æ¡£**: åœ¨å¼€å‘æ¨¡å¼ä¸‹è®¿é—® `/swagger` æŸ¥çœ‹ Swagger UIã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```
Student-Course-Registration-System/
â”œâ”€â”€ SMS/                          # ä¸»åº”ç”¨é¡¹ç›®
â”‚   â”œâ”€â”€ Components/              # Blazor ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Pages/              # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Admin/         # ç®¡ç†å‘˜é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ Student/       # å­¦ç”Ÿé¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ Teacher/       # æ•™å¸ˆé¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ Auth/          # è®¤è¯é¡µé¢
â”‚   â”‚   â””â”€â”€ Layout/            # å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ Controllers/            # API æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ Models/                # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ Student.cs
â”‚   â”‚   â”œâ”€â”€ Teacher.cs
â”‚   â”‚   â”œâ”€â”€ Course.cs
â”‚   â”‚   â”œâ”€â”€ Enrollment.cs
â”‚   â”‚   â””â”€â”€ User.cs
â”‚   â”œâ”€â”€ Migrations/             # EF Core è¿ç§»
â”‚   â”œâ”€â”€ Middleware/            # è‡ªå®šä¹‰ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ CimContext.cs          # DbContext
â”‚   â”œâ”€â”€ Program.cs             # åº”ç”¨å…¥å£ç‚¹
â”‚   â””â”€â”€ appsettings.json       # é…ç½®æ–‡ä»¶
â””â”€â”€ Student Management System.sln  # è§£å†³æ–¹æ¡ˆæ–‡ä»¶
```

## ğŸ—„ï¸ æ•°æ®åº“æ¶æ„

### æ ¸å¿ƒå®ä½“

- **Student** (`SMS_Students`) - å­¦ç”Ÿä¿¡æ¯
- **Teacher** (`SMS_Teachers`) - æ•™å¸ˆä¿¡æ¯
- **Course** (`SMS_Courses`) - è¯¾ç¨‹ä¿¡æ¯ï¼ˆå«çŠ¶æ€ï¼‰
- **Enrollment** (`SMS_Enrollments`) - å­¦ç”Ÿ-è¯¾ç¨‹é€‰è¯¾è®°å½•
- **User** (`SMS_Users`) - ç”¨æˆ·è®¤è¯å’Œæˆæƒ
- **TeacherApplication** (`SMS_TeacherApplications`) - æ•™å¸ˆè¯¾ç¨‹ç”³è¯·

### å…³ç³»

- Student â†” Enrollment â†” Course (å¤šå¯¹å¤š)
- Teacher â†’ Course (ä¸€å¯¹å¤š)
- User â†’ Student/Teacher (ä¸€å¯¹ä¸€ï¼Œå¯é€‰)

## âš™ï¸ é…ç½®

### æ•°æ®åº“è¿æ¥

åœ¨ `appsettings.json` ä¸­é…ç½®ï¼š

```json
{
  "ConnectionStrings": {
    "CimContext": "Server=...;Database=...;Username=...;Password=..."
  }
}
```

### æ”¯æŒçš„æ•°æ®åº“

- PostgreSQL (é»˜è®¤ï¼Œä½¿ç”¨ Npgsql)
- SQL Server (ä½¿ç”¨ Microsoft.EntityFrameworkCore.SqlServer)

### å¼€å‘è®¾ç½®

- Swagger ä»…åœ¨å¼€å‘æ¨¡å¼ä¸‹å¯ç”¨
- CORS é…ç½®ä¸ºå…è®¸æ‰€æœ‰æ¥æºï¼ˆç”Ÿäº§ç¯å¢ƒéœ€é…ç½®ï¼‰
- HTTPS é‡å®šå‘å¯åœ¨ `Program.cs` ä¸­é…ç½®

## ğŸ”§ å¼€å‘

### è¿è¡Œè¿ç§»

```bash
# æ·»åŠ æ–°è¿ç§»
dotnet ef migrations add MigrationName

# æ›´æ–°æ•°æ®åº“
dotnet ef database update
```

### æ„å»º

```bash
dotnet build
```

### æµ‹è¯•

åº”ç”¨åŒ…å« Swagger UIï¼Œå¯åœ¨å¼€å‘æ¨¡å¼ä¸‹è¿›è¡Œ API æµ‹è¯•ã€‚

## ğŸ“ æ³¨æ„äº‹é¡¹

- ç³»ç»Ÿä½¿ç”¨åŒ—äº¬æ—¶é—´ï¼ˆUTC+8ï¼‰å¤„ç†æ‰€æœ‰æ—¶é—´æˆ³
- æ•°æ®åº“è¡¨ä»¥ `SMS_` ä¸ºå‰ç¼€
- åº”ç”¨ä½¿ç”¨ Entity Framework Core è¿›è¡Œè‡ªåŠ¨æ—¶é—´æˆ³ç®¡ç†
- ä½¿ç”¨ Ant Design ç»„ä»¶ä¿æŒ UI ä¸€è‡´æ€§
- ä½¿ç”¨ QuickGrid è¿›è¡Œé«˜æ•ˆæ•°æ®æ˜¾ç¤º

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·éšæ—¶æäº¤ Pull Requestã€‚

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ã€‚

---

è¯¦ç»†çš„ API æ–‡æ¡£ï¼Œè¯·åœ¨å¼€å‘æ¨¡å¼ä¸‹è¿è¡Œåº”ç”¨åè®¿é—® `/swagger` æŸ¥çœ‹ Swagger UIã€‚
